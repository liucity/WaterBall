/*------------------------------- tool.js start -------------------------------*/
!function(r){var t=[],n=t.hasOwnProperty,e=Object.prototype.toString,o=t.slice,c=function(r){switch(e.call(r)){case"[object Object]":return"object";case"[object Number]":return"number";case"[object String]":return"string";case"[object Function]":return"function";case"[object Array]":return"array";case"[object Arguments]":return"arguments";case"[object Boolean]":return"bool"}},i={version:"0.0.1",type:c,isObject:function(r){return"object"===c(r)},isArray:function(r){return"array"===c(r)},isFunction:function(r){return"function"===c(r)},isString:function(r){return"string"===c(r)},isWindow:function(r){return null!=r&&r===r.window},isPlainObject:function(r){return"object"===c(r)&&!r.nodeType&&!i.isWindow(r)&&!(r.constructor&&!n.call(r.constructor.prototype,"isPrototypeOf"))},toArray:function(r){switch(c(r)){case"arguments":return o.call(r);case"array":return r;default:return}},formatter:function(r){},error:function(r){throw new Error(r)}},u=i.isArray,a=i.isFunction,s=i.isPlainObject;i.each=function(r,t){var n,e=0,o=r.length;if(u(r))for(;e<o&&!1!==t.call(r[e],e,r[e++]););else for(n in r)if(!1===t.call(r[n],n,r[n]))break};var f=i.each,l=function(r,t){var e=o.call(arguments,1);return"bool"!==c(r)?(t=r,r=!1):e=e.slice(1),t="object"==typeof t||a(t)?t:{},f(e,function(e,o){"object"==typeof o&&f(o,function(e,c){(r||n.call(o,e))&&void 0!=c&&("object"==typeof c&&s(c)?t[e]=l(r,t[e],c):t[e]=c)})}),t};if(i.extend=l,i.replacer=function(){var r=function(r,t){for(var n=t.split("."),e=n.length,o=0;r&&o<e;o++)r=r[n[o]];return r};return function(t,n,e){var o,c;if(t)return n?(u(n)||(n=[n]),a(e)||(e=function(t,n){return c=r(t,n),void 0===c?"string"==typeof t||"number"==typeof t?t:"":c}),o=[],f(n,function(r,n){o.push(t.replace(/\{\s*([^\}]*)\s*\}/g,function(r,t){return e(n,t)}))}),o.join("")):t}}(),r.tool)if(r.tool.version){if(r.tool.version>i.version)return!1}else i.error("there contains another tool");r.tool=i}(window.XT=window.XT||{});
/*------------------------------- tool.js end -------------------------------*/

/*------------------------------- linq.js start -------------------------------*/
!function(n){"use strict";var t=Object.prototype.toString,r=[].slice,i=[].splice,e=[].push,u=function(n){return Array.isArray(n)},c=function(n){return"function"==typeof n},s=function(n){if(!s.isLinq(this))return new s(n);"[object Arguments]"===t.call(n)?n=r.call(n):s.isLinq(n)&&(n=n.array()),this.source=u(n)?r.call(n,0):[]};s.isLinq=function(n){return n instanceof s},s.prototype={constructor:s,each:function(n,t){var r=this.source,i=r.length,e=0;if(t)for(;i--&&!1!==n.call(r[i],r[i],i););else for(;e<i&&!1!==n.call(r[e],r[e],e);e++);return this},add:function(){return e.apply(this.source,arguments),this},insert:function(n){var t=r.call(arguments,0);return i.call(t,1,0,0),i.apply(this.source,t),this},remove:function(n){var t;return"number"==typeof n&&(t=n,n=function(n,r){return r===t}),this.source=this.where(function(t,r){return!n.call(t,t,r)}).source,this},where:function(n){var t=new s;return this.each(function(r,i){n.call(r,r,i)&&t.add(r)}),t},first:function(n){var t;return c(n)?this.each(function(r,i){if(n.call(r,r,i))return t=r,!1}):t=this.source[0],t},last:function(n){var t;return c(n)?this.each(function(r,i){if(n.call(r,r,i))return t=r,!1},!0):t=this.source[this.source.length-1],t},indexOf:function(n,t){var r=-1;return this.each(function(t,i){if(n.call(t,t,i))return r=i,!1},t),r},skip:function(n){return this.where(function(t,r){return r>=n})},take:function(n){return this.where(function(t,r){return r<n})},select:function(n,t){var r=new s([]);return this.each(function(t,i){r.add(n.call(t,t,i))},t),r},selectmany:function(n){var t,r=new s;return this.each(function(i,e){t=n.call(i,i,e),s.isLinq(t)?r.add.apply(r,t.source):void 0!==t&&r.add[u(t)?"apply":"call"](r,t)}),r},selectall:function(){for(var n=this.clone();n.any(function(){return u(this)});)n=n.selectmany(function(){return this});return n},group:function(n){var t,r={},i=new s;this.each(function(i,e){e=n.call(i,i,e)||"",t=JSON.stringify(e),r[t]=r[t]||[],r[t].push(i)});for(t in r){var e=new s(r[t]);e.key=JSON.parse(t),i.add(e)}return i},unique:function(n){var t,r={},i=new s;n=n||function(n){return n},this.each(function(i,e){e=n.call(i,i,e)||"",t=JSON.stringify(e),r[t]=e});for(t in r)r[t]&&i.add(r[t]);return i},max:function(n){var t=c(n)?this.select(n):this;return Math.max.apply(null,t.selectmany(function(n){return n}).array())},min:function(n){var t=c(n)?this.select(n):this;return Math.min.apply(null,t.selectmany(function(n){return n}).array())},sum:function(n){var t=c(n)?this.select(n):this,r=0;return t.selectmany(function(n){return n}).each(function(n){isNaN(n)||(r+=Number(n))}),r},avg:function(n){var t=c(n)?this.selectmany(n):this;return t.sum()/t.count()},sort:function(n){var t,i=r.call(arguments,0),e=i.length,u=0,s=this.each(function(){this.__right=[]});if(e)for(;u<e;)t=i[u],c(t)?s.each(function(n,r){this.__right.push(t.call(n,n,r))}):s.each(function(n,r){this.__right.push(n[t])}),u++;else s.each(function(n,t){this.__right.push(n)});return s.source.sort(function(n,t){for(u=0,e=n.__right.length;u<e;){if(n.__right[u]>t.__right[u])return 1;u++}return-1}),this.each(function(n,t){delete n.__right}),this},sortDesc:function(n){var t,i=r.call(arguments,0),e=i.length,u=0,s=this.each(function(){this.__right=[]});if(e)for(;u<e;)t=i[u],c(t)?s.each(function(n,r){this.__right.push(t.call(n,n,r))}):s.each(function(n,r){this.__right.push(n[t])}),u++;else s.each(function(n,t){this.__right.push(n)});return s.source.sort(function(n,t){for(u=0,e=n.__right.length;u<e;){if(n.__right[u]<t.__right[u])return 1;u++}return-1}),this.each(function(n,t){delete n.__right}),this},reverse:function(){var n=new s([]);return this.each(function(t){n.add(t)},!0),n},concat:function(n){var t=this.clone();return e.apply(t.source,new s(n).source),t},clone:function(){return new s(this.source.slice())},any:function(n){var t=!1;return this.each(function(r,i){return!(t=n.call(r,r,i))}),!!t},all:function(n){var t=!0;return this.each(function(r,i){return!!(t=n.call(r,r,i))}),t},count:function(n){return(c(n)?this.where(n):this).source.length},join:function(n){return this.array().join(n)},array:function(){return this.source},eq:function(n){return this.source[n]}},n.linq=s}(window.XT=window.XT||{});
/*------------------------------- linq.js end -------------------------------*/

/*------------------------------- canvas.js start -------------------------------*/
!function(t){"use strict";var e=(t.linq,t.tool),n=Math.PI,i=function(t){if(!(this instanceof i))return new i(t);e.extend(this,{dom:null,render:null,event:null,cache:{},isRendering:!1},t),this.init()};i.prototype={constructor:i,init:function(){var t,n,i,r=this,o=function(t,o,s){e.isFunction(r.event)&&r.event(t,o),i={type:t,target:o},n=!1!==s},s=function(s){var a,h=s.offsetX,c=s.offsetY;switch(i=!1,r.items.each(function(){if(this&&this.inRange&&this.inRange(h,c))return a={target:this,color:this.color},!1},!0),a?t?t.target!==a.target?(o("mouseleave",t.target),t=a,o("mouseenter",t.target)):o("mouseover",t.target,e.isFunction(t.target.mouseover)):(t=a,o("mouseenter",t.target)):t&&(o("mouseleave",t.target),t=a),n&&(n=!1,r.draw()),s.type){case"click":t&&o("click",t.target,!1)}i&&e.isFunction(i.target[i.type])&&i.target[i.type](r,s)};this.dom.addEventListener("click",s),this.dom.addEventListener("mousemove",s),this.dom.addEventListener("mouseleave",function(){t&&o("mouseleave",t.target),t=!1})},getTime:function(t){return Date.now()},getContext:function(){return this.cache.context=this.cache.context||this.dom.getContext("2d")},draw:function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},n=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)};return function(i){return i&&n(this.rfID),this._time||(this._time=this.getTime()),e.isFunction(this.render)&&!1!==this.render.call(this,{time:this.getTime()-this._time})&&this.dom&&document.body.contains(this.dom)&&(this.rfID=t(this.draw.bind(this))),this}}(),clean:function(t,e,n,i){this.getContext().clearRect(n||0,e||0,n||this.dom.width,i||this.dom.height)},center:function(t,e){this.cache.x=t-=this.cache.x||0,this.cache.y=e-=this.cache.y||0,this.getContext().translate(t,e)},rect:function(t,e,n,i){var r=this.getContext();return r.beginPath(),r.moveTo(t,e),r.lineTo(t+n,e),r.lineTo(t+n,e+i),r.lineTo(t,e+i),r.closePath(),this},point:function(t,e,i){var r=this.getContext();return r.beginPath(),r.arc(t,e,i,0,2*n),this},pie:function(t,e,i,r,o){var s=this.getContext();return s.beginPath(),s.arc(t,e,i,r-n/2,o-n/2,!1),s.lineTo(t,e),this.fill(this.styles),this},line:function(t){var n=this.getContext();return n.beginPath(),e.each(t,function(t,e){n[t?"lineTo":"moveTo"](Math.round(e.x),Math.round(e.y))}),this},dashLine:function(t,n){var i,r,o,s,a=n&&n.dash||4,h=this.getContext();return e.each(t,function(e,n){if(r=t[e+1]){for(i=Math.sqrt(Math.pow(r.x-this.x,2)+Math.pow(r.y-this.y,2)),o=Math.atan2(r.y-this.y,r.x-this.x),h.save(),h.translate(this.x,this.y),h.rotate(o),s=0,h.beginPath();s<i;)h.moveTo(s,0),s=Math.min(i,s+a),h.lineTo(s,0),s=Math.min(i,s+a);h.closePath(),h.restore()}}),this},wave:function(t,e,n,i,r,o,s){var a=this.getContext(),h=t.x,c=.5/i;for(s=s||function(t,e){return e},a.beginPath(),a.moveTo(t.x,t.y);h<=e.x;h+=c)a.lineTo(h,s(h,n*Math.sin(i*h+r)+o));return this},bezier:function(t){var e,n,i,r,o,s,a=this.getContext(),h=Math.round,c=t.length,u=2;switch(c){case 1:return;case 2:return this.line(t)}for(a.beginPath(),a.moveTo(h(t[0].x),h(t[0].y));u<c&&t[u];u+=2)!function(t,c,u){e=(t.x+c.x)/2,n=(t.y+c.y)/2,i=(c.x+u.x)/2,r=(c.y+u.y)/2,o=c.x-(e+i)/2,s=c.y-(n+r)/2,e+=o,n+=s,i+=o,r+=s,a.bezierCurveTo(h(e),h(n),h(i),h(r),h(u.x),h(u.y))}(t[u-2],t[u-1],t[u]);return this},partial:function(t){var e=this.getContext();return e.save(),t.call(this,e),e.restore(),this},createRadialGradient:function(t,e,n,i){return this.getContext().createRadialGradient(t,e,n,t,e,i)},createLinearGradient:function(t,e,n,i){return this.getContext().createLinearGradient(t,e,n,i)},styles:{color:"#CCCCCC",lineWidth:2,vertical:"middle",align:"center"},stroke:function(t){var n=this.getContext();return t=e.extend({},this.styles,t),n.lineWidth=t.lineWidth,n.strokeStyle=t.color,n.stroke(),this},fill:function(t){var n=this.getContext();return t=e.extend({},this.styles,t),n.lineWidth=t.lineWidth,n.fillStyle=t.color,n.fill(),this},clip:function(){return this.getContext().clip(),this},text:function(t,n,i,r){var o=this.getContext();!1!==r&&(r=e.extend(!0,{},this.styles,r),o.font=r.font,o.textBaseline=r.vertical,o.textAlign=r.align,o.fillStyle=r.color),o.fillText(i,Math.round(t),Math.round(n))},toDataUrl:function(){return this.getContext().toDataUrl()}},function(){var t,n={},r=function(){return t||(t=document.createElement("div"),e.extend(t.style,{position:"absolute",top:-100,left:-100}),document.getElementsByTagName("body")[0].appendChild(t)),t};i.getTextHeight=function(t){if(!n[t]){var e=r();e.innerHTML="abcdefghijklmnopqrstuvwxyz0123456789",e.style.display="",e.style.font=t,n[t]=e.offsetHeight,e.style.display="none"}return n[t]},i.getTextWidth=function(t,e){var n=r();n.innerHTML=e||"",n.style.display="",n.style.font=t;var i=n.offsetWidth;return n.style.display="none",i}}(),function(){var t=/^rgb(\((\s*\d+\s*\,\s*){2}|a\((\s*\d+\s*\,\s*){3})\s*\d+\s*\)$/,n=/^\#?[\da-fA-F]{3}$/,r=/^\#?[\da-fA-F]{6}$/,o=function(t){return t=parseInt(t,10).toString(16),1===t.length?"0"+t:t},s=function(t,e){return parseInt(t,e||16)},a=function(e,i,o,h){if(!(this instanceof a))return new a(e,i,o,h);if(e instanceof a)return e.clone();var c=10;if(void 0===i){var u;if(t.test(e))u=e.match(/\d+/);else if(r.test(e)){var l=e.replace("#",""),f=0,d=6;for(u=[];f<d;f+=2)u.push(l[f]+l[f+1]);c=16}else if(n.test(e)){var l=e.replace("#",""),f=0,d=3;for(u=[];f<d;f++)u.push(l[f]+l[f]);c=16}else u=[];e=u[0],i=u[1],o=u[2],h=u[3]}this.r=s(e,c)||0,this.g=s(i,c)||0,this.b=s(o,c)||0,this.a=s(h,c)||1};a.prototype={constructor:a,clone:function(){return new a(this.r,this.g,this.b,this.a)},red:function(t){return this.r=t,this},green:function(t){return this.g=t,this},blue:function(t){return this.b=t,this},alpha:function(t){return this.a=t,this},toHEX:function(){return"#"+o(this.r)+o(this.g)+o(this.b)},toRGB:function(){return e.replacer("rgb({r}, {g}, {b})",this)},toRGBA:function(){return e.replacer("rgba({r}, {g}, {b}, {a})",this)}},a.fix=function(t,e,n){var i=function(i){return t[i]+(e[i]-t[i])*n};return new a(i("r"),i("g"),i("b"),i("a"))},i.color=a}(),t.canvas=i}(window.XT=window.XT||{});
/*------------------------------- canvas.js end -------------------------------*/

/*------------------------------- simpleChart.js start -------------------------------*/
!function(t){var i=t.tool,e={cache:{},load:function(t,e,n){var r=this,a=r.cache[e];if(a)if(a.complete)i.isFunction(n)&&n.call(a,a);else{var o=a.onload;a.onload=function(){o(),r.load(t,e,n)}}else a=document.createElement(t),a.src=e,a.onload=function(){return r.load(t,e,n)},r.cache[e]=a;return a}};t.sourceManager=e}(window.XT=window.XT||{}),function(t){var i=t.linq,e=t.tool,n=t.canvas,r=e.isFunction,a=function(t,i,e){return Math.max(i,Math.min(e,t))},o=(function(){}(),function(){for(var t=arguments.length,i=0;i<t;){if(void 0!=arguments[i])return arguments[i];i++}}),s=(function(){var t=/\r/}(),function(){var t,i={},e=function(){for(var i;(i=Date.now())!==t;)t=i;return i};return function(t,n){return t.dataset.chart_id||(t.dataset.chart_id=e()),void 0!==n?(i[t.dataset.chart_id]=n,t):i[t.dataset.chart_id]}}()),h=function(t,i,r,a){if(!t||"CANVAS"!==t.tagName)return e.error("please use canvas element!"),!1;var o=s(t);return o||(o=new n({dom:t,event:r}),o.height=t.height,o.width=t.width),e.isArray(i)||(i=[i]),o.items=h.getItems(o,i,a),o.render=function(t){var i,e=t.time,n=this.getContext();return this.clean(),this.items.each(function(){!this.isDisabled&&(i=!1!==this.render(o,n,e)||i)}),!1!==i},o.draw(!0),o};e.extend(h,{getItems:function(t,n,r){var a=this,o=e.extend({w:t.width,h:t.height,items:new i(n),canvas:t,space:5},r);return o.items.selectmany(function(t,n){var r=a[t.type].call(a,t,n,o);return i.isLinq(r)||(e.isArray(r)||(r=[r]),r=new i(r)),r.selectall().each(function(){this.data=this.data||t,this.index=n})})},waterball:function(t,i,e){return new d(t.min,t.val,t.max,e.w/2,e.h/2,t.radius,t)},processbar:function(t,i,e){var n=void 0!==t.space?t.space:e.space,r=a(e.h-2*n,0,30);return new f(t.min,t.val,t.max,n,(e.h-r)/2,e.w-2*n,r,t)},slots:function(t,i,e){var r=t.font||x.prototype.font,a=n.getTextWidth(r,t.lable);n.getTextHeight(r);return new x(t.label,(e.w-a)/2,e.h/2,t)},increaseNumber:function(t,i,e){var r=t.font||v.prototype.font,a=n.getTextWidth(r,t.lable);n.getTextHeight(r);return new v(t.label,(e.w-a)/2,e.h/2,t)},mediaBall:function(t,i,e){return new p(t.label,t.image,t.x,t.y,t.scale,t.radius,t)}});var l={PI:Math.PI,PI2:Math.PI/2,linear:function(t,i,e){var n=(i-t)/e,r=t;return function(t){return n*t+r<0&&console.log(n,t,r),n*t+r}},sinEaseIn:function(t,i,e){var n=-(i-t),r=this.PI2/e,a=i;return function(t){return n*Math.sin(r*t)+a}},sinEaseOut:function(t,i,e){var n=i-t,r=this.PI2/e,a=t;return function(t){return n*Math.sin(r*t)+a}},sinEaseInOut:function(t,i,e){var n=-(i-t)/2,r=this.PI/e,a=t;return function(t){return n*(Math.cos(r*t)-1)+a}},quadEaseIn:function(t,i,e){var n=i-t,r=t;return function(t){return n*(t/=e)*t+r}},quadEaseOut:function(t,i,e){var n=-(i-t),r=t;return function(t){return n*(t/=e)*(t-2)+r}},quadEaseInOut:function(t,i,e){var n=(i-t)/2,r=t;return function(t){return(t/=e/2)<1?n*t*t+r:-n*(--t*(t-2)-1)+r}},step:function(t,i,e){return function(){return i}}},u={animateType:"linear",animateDuration:1e3,isDisabled:!1,animate:function(t,i,e,n,r){var a,s,h,u=this;return n=n||this.animateType,r=o(r,this.animateDuration),i=o(i,this.getProperty(t),0),e=o(e,i),t&&r&&(h=l[n in l?n:"step"](i,e,r),this[t]=function(i){return void 0===a&&(a=i),(i-=a)>r?(u.trigger("animationEnd"),u[t]=e):isNaN(i)?u[t]=isNaN(s)?e:h(s):(s=i,h(i))}),this},trigger:function(t){return r(this[t])&&this[t](),this},getProperty:function(t,i){return r(this[t])?this[t](i):this[t]}},c=function(t,i,n,r,a,o){if(!(this instanceof c))return new c(t,i,n,r,a,o);e.isObject(i)?(o=i,i=void 0):e.isObject(r)&&(o=r,r=void 0),e.extend(this,this.initContent(t),o&&{x:o.x,y:o.y,w:o.w,h:o.h,color:o.color,font:o.font,align:o.align,vertical:o.vertical,underline:o.underline,animateDuration:o.animateDuration},{x:i,y:n,w:r,h:a}),this.animate("alpha",0,1,"linear")};c.prototype=e.extend({},u,{color:"#757171",font:"normal 1em Microsoft YaHei",align:"center",vertical:"middle",underline:!1,animateDuration:500,render:function(t,i,e){var n=this;t.partial(function(t){t.globalAlpha=n.getProperty("alpha",e),this.text(n.x,n.y,n.text,n),n.underline&&this.line([{x:n.getFixedX()-n.w/2,y:n.y+n.h/2},{x:n.getFixedX()+n.w/2,y:n.y+n.h/2}]).stroke({color:n.color,lineWidth:1})})},initContent:function(t){return e.isString(t)?{text:t}:t||{}},inRange:function(t,i){return this.getFixedX()-this.w/2<t&&this.getFixedX()+this.w/2>t&&this.y-this.h/2<i&&this.y+this.h/2>i},getFixedX:function(){switch(this.align){case"left":return this.x+this.w/2;case"right":return this.x-this.w/2;default:return this.x}}});var d=function(t,i,r,o,s,h,l){if(!(this instanceof d))return new d(t,i,r,o,s,h,l);if(e.extend(this,{x:o,y:s,min:t||0,val:i||0,max:r||1,radius:h||100},l),this.val=a(this.val,this.min,this.max),this.label){var u=new v(this.label,this.x,0,this.label);if(void 0===this.label.y){var c=n.getTextHeight(u.font),f=this.val/(this.max-this.min)*this.radius;u.y=c>f?this.y+this.radius-f-c:this.y+this.radius-f}this.label=u}return this.animate("val",0,this.val,"quadEaseInOut"),this};d.prototype=e.extend({},u,{lineWidth:2,animateDuration:1500,borderColor:"rgba(0, 0, 0, 0.2)",color:function(t){return new n.color(197,227,250)},render:function(t,i,e){var a=this,o=this.radius/25-Math.sin(Math.PI/2/this.animateDuration*e)/2,s=e/100,h=this.getProperty("val",e),l=h/(this.max-this.min)*this.radius*2-this.radius,u=r(this.color)?this.color(h):new n.color(this.color);t.partial(function(t){t.translate(a.x,a.y),t.scale(1,-1),this.point(0,0,a.radius).stroke({lineWidth:a.lineWidth,color:a.borderColor}),t.clip(),this.wave({x:-a.radius-20,y:l},{x:a.radius+20,y:l},o,.1,s,l),t.lineTo(a.radius+20,-a.y),t.lineTo(-a.radius-20,-a.y),t.closePath(),this.fill({color:u.alpha(.3).toRGBA()}),this.wave({x:-a.radius-20,y:l},{x:a.radius+20,y:l},o,.1,-s,l),t.lineTo(a.radius+20,-a.y),t.lineTo(-a.radius-20,-a.y),t.closePath();var i=this.createRadialGradient(-a.radius/2,a.radius/2,0,a.radius);i.addColorStop(0,u.alpha(.3).toRGBA()),i.addColorStop(.5,u.alpha(.8).toRGBA()),i.addColorStop(1,u.alpha(1).toRGBA()),this.fill({color:i})}),this.label&&this.label.render&&this.label.render(t,i,e)},inRange:function(t,i){return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(this.radius,2)}});var f=function(t,i,r,a,o,s,h,l){if(!(this instanceof f))return new f(t,i,r,a,o,s,h,l);if(e.extend(this,{x:a,y:o,w:s||1,h:h||1,min:t||0,val:i||0,max:r||1},l),this.label){var u=new v(this.label,this.x,this.y+this.h/2,this.label);if(void 0===this.label.x){var c=n.getTextWidth(u.font,u.text),d=this.val/(this.max-this.min)*this.w;u.x=c>d?d+c:d/2}this.label=u}return this.animate("val",0,this.val,"quadEaseInOut"),this};f.prototype=e.extend({},u,{lineWidth:2,animateDuration:1500,borderColor:"rgba(0, 0, 0, 0.2)",color:new n.color(197,227,250),render:function(t,i,e){var o=this,s=this.getProperty("val",e),h=e/2%this.animateDuration/this.animateDuration||0,l=s/(this.max-this.min)*this.w,u=r(this.color)?this.color(s):new n.color(this.color);t.partial(function(t){t.translate(o.x,o.y),this.rect(0,0,o.w,o.h).stroke({lineWidth:o.lineWidth,color:o.borderColor});var i=this.createLinearGradient(-l,0,2*l,0);i.addColorStop(0,u.toRGBA()),i.addColorStop(a(h-.3,0,1),u.toRGBA()),i.addColorStop(h,u.clone().alpha(.5).toRGBA()),i.addColorStop(a(h+.15,0,1),u.toRGBA()),i.addColorStop(1,u.toRGBA()),this.rect(0,0,l,o.h).fill({color:i})}),o.label&&o.label.render&&o.label.render(t,i,e)},inRange:function(t,i){return this.x<t&&this.x+this.w>t&&this.y<i&&this.y+this.h>i}});var x=function(t,i,e,r){return this instanceof x?(c.call(this,t,i,e,r),this.w=n.getTextWidth(this.font,this.text),this.h=n.getTextHeight(this.font),this):new x(t,i,e,r)};x.prototype=e.extend(new c,{animateDuration:1500,getNumbers:function(){var t="0123456789",i=t.length;return function(e){return e%=i,e<0&&(e+=i),t.substr(e)+t.substr(0,e)}}(),halfFontSize:function(){var t=/\d+(\.\d+)?/i;return function(e){return new i((e||"").split(" "),[]).select(function(i){return t.test(i)?i.replace(t,function(t){return t/2}):i}).join(" ")}}(),render:function(t,i,r){var a=this,o=this.animateDuration;if(o<r)return t.text(this.x,this.y,this.text,a);t.partial(function(){var s,h=a.h,l=a.text.split("")||[],u=function(i,n,r){var a=n;e.each(r,function(e,n){-h<=a&&a<=2*h&&t.text(i,a,n,!1),a+=h})};i.translate(a.x-a.w/2,a.y-a.h/2),this.rect(0,0,a.w,h).clip(),i.font=a.font,i.fillStyle=a.color,i.textBaseline="middle",i.textAlign="center",s=n.getTextWidth(a.font,l[0])/2,e.each(l,function(t,i){var e=h*(10*t+10-Number(i)-1.5)*-2/Math.pow(o,2),c=-e*o*r+.5*e*Math.pow(r,2);l=a.getNumbers(4-Math.floor(c/h)).split(""),u(s,c%h-4*h,l),s+=n.getTextWidth(a.font,i)})})}});var v=function(t,i,e,n){return this instanceof v?(c.call(this,t,i,e,n),this.animate("val",0,this.getNumber(this.text),"linear"),this):new v(t,i,e,n)};v.prototype=e.extend(new c,{animateDuration:1500,numberReg:/\d/g,getNumber:function(t){return(t||"").match(this.numberReg).join("")},render:function(t,e,n){var r=this;if(this.animateDuration<n)return t.text(this.x,this.y,this.text,r);t.partial(function(){var e=Math.ceil(r.getProperty("val",n))+"",a=e.length,o=new i(r.text.split("")||[]).select(function(t){return isNaN(t)?t:a>0?e[--a]:0},!0).reverse().join("");t.text(r.x,r.y,o,r)})}});var p=function(t,i,n,r,a,o,s){return this instanceof p?(e.extend(this,{label:t,image:i,x:n,y:r,scale:a||1,radius:o||100},s),this.load(),this.prepareLabels(),this):new p(t,n,r,s)};p.prototype=e.extend(new c,{animateDuration:0,vertical:"top",load:function(){if(!this.imageSource){var t=this;this.isDisabled=!0,XT.sourceManager.load("img",this.image,function(i){t.imageSource=i,t.isDisabled=!1})}},getAvailableWidth:function(t){return Math.floor(2*Math.sqrt(Math.pow(this.radius,2)-Math.pow(t,2)))},prepareLabels:function(){if(this.label&&!this.labels){for(var t,i=[],e=this.label,r=n.getTextHeight(this.font),a=n.getTextWidth(this.font,e)/e.length,o=r;e&&o<this.radius;)t=Math.floor(this.getAvailableWidth(o)/a),i.push(new c(e.substr(0,t),0,o-r,this)),e=e.substr(t),o+=r;this.labels=i}},render:function(t,i,n){var r=this,a=this.radius,o=this.imageSource,s=this.getProperty("x",n),h=this.getProperty("y",n),l=this.getProperty("scale",n);return t.partial(function(){if(i.translate(s,h),i.scale(l,l),this.point(0,0,a).stroke({lineWidth:r.lineWidth,color:r.borderColor}).fill({color:"#FFF"}),i.clip(),o){var u=Math.min(o.width/2,o.height);i.drawImage(o,(o.width-2*u)/2,(o.height-u)/2,2*u,u,-a,-a,2*a,a)}r.labels&&e.each(r.labels,function(){this.render(t,i,n)})}),!1}}),t.simpleChart=h}(window.XT=window.XT||{});
/*------------------------------- simpleChart.js end -------------------------------*/